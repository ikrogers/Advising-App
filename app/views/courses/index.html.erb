
<% @currentuser = User.find_by_id(session[:user_id]) %>


<h1>Listing courses for <%= @currentuser.name %> </h1>
<br>
	<%= render 'sendcoursesform' %>
<br>

<div style="height: 300px; overflow: scroll;">
	<table>
		<thead>
			<tr>
				<th>Name</th>
				<th>Hours</th>
				<th>Prereq</th>
				<th></th>
				<th></th>
				<th></th>
			</tr>
		</thead>

		<tbody>
			<% if @currentuser.classification == "Student" %>

			<% @courses.each do |course| %>
						<%if course.studentid == @currentuser.id %>
			<tr>
				<td><%= course.name %></td>
				<td><%= course.hours %></td>
				<td><%= course.prereq %></td>
				<td><%= link_to 'Show', course, :class => ('btn btn-success btn-md') %></td>
				<%= render :partial => 'show_course_modal' %>
				<td><%= link_to 'Destroy', course,:class => ('btn btn-danger btn-md') , method: :delete, data: { confirm: 'Are you sure?' } %></td>
			</tr>
						<%end%>
			<% end %>
			
			<%else%>
			<% @courses.each do |course| %>
			<tr>
				<td><%= course.name %></td>
				<td><%= course.hours %></td>
				<td><%= course.prereq %></td>
				<td><%= link_to 'Show', course_path %></td>
				<a href="#show-course" class="btn btn-outline-inverse btn-block"data-toggle="modal">show course</a>
				<%= render :partial => 'show' %>
				<td><%= link_to 'Edit', edit_course_path(course), :class => "btn btn-outline-inverse btn-block" %></td>
				<td><%= link_to 'Destroy', course, method: :delete, data: { confirm: 'Are you sure?' }, :class => "btn btn-outline-inverse btn-block" %></td>
			</tr>
			<%end%>			
			<%end%>
		</tbody>
</div>
<div>
	
	<%= render 'sendcoursesform' %>
	
	

<%case @currentuser.classification%>
<%      when "Admin"%>
<a href="#course-form" class="btn btn-outline-inverse btn-block"data-toggle="modal">Add new course</a>
<%= render :partial => 'new_course_modal' %>
<a href="#courselist-form" class="btn btn-outline-inverse btn-block"data-toggle="modal">Add new courselist</a>
<%= render :partial => 'new_courselist_modal' %>
<a href="admin/index" class="btn btn-outline-inverse btn-block"data-toggle="modal">Back</a>
<%      when "Advisor"%>
<a href="advisor/index" class="btn btn-outline-inverse btn-block"data-toggle="modal">Back</a>
<%     else%>
<a href="student/index" class="btn btn-outline-inverse btn-block"data-toggle="modal">Back</a>
<%     end%>
</div>
